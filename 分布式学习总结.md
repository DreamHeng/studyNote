# 分布式

## 1.基本概念

#### 1.1.微服务架构

组成（主要目的：弱耦合，高可用）

- 一组小的服务
- 独立的进程
- 轻量级通信
- 基于业务能力（根据业务关联性进行服务的分配）
- **独立部署**（若干服务挂掉不影响其它服务）
- 无集中式管理（不同服务间应用的技术栈可以不同）

非大型单体应用，基于业务进行服务拆分，各个服务独立部署。

#### 1.2.集群&分布式&节点

​	集群是物理形态，分布式是工作形式。

​	一堆机器组成集群，合力完成同个业务。分布式是一个系统分为多个业务服务，每个业务运行在不同的机器（集群）。集群中的单个机器叫做节点。

#### 1.3.远程调用

​	分布式各个服务在不同机器上，各个服务间的互相调用，称为远程调用。

​	SpringCloud使用Http+JSON形式完成远程调用。

#### 1.4.负载均衡

​	分布式系统中，每个服务都是以集群形式存在，为了不使集群中某个机器太忙或太闲，我们需要实现集群的负载均衡，提升系统健壮性。

​	常见的负载均衡算法：轮询、最小连接、散列。

#### 1.5.服务注册/发现&注册中心

​	各服务之间的连接者，也可称为管理者，叫做注册中心。

#### 1.6.配置中心

​	集中管理各个服务的配置信息。

#### 1.7.服务熔断&服务降级

​	保障分布式系统，避免其中其中一个服务出错，全部崩溃的情况，一种容错机制。

##### 1.7.1.服务熔断

​	设置服务超时时间，当某个服务调用失败次数达到某个阀值，直接开启断路保护机制，后来的请求不调用这个服务，直接返回默认值。

##### 1.7.2.服务降级

​		系统运行期间，在系统高峰期，系统资源紧张，将某些非核心业务降级处理，如不处理或简单处理（返回默认值、抛异常等）。

#### 1.8.API网关

​	微服务架构中的入口，抽象了微服务架构中的公共功能，如统一认证、负载均衡、限流等，帮助解决API管理问题。